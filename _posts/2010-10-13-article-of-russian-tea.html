---
layout: post
title: Article of Russian Tea
date: '2010-10-13T18:25:00.000Z'
author: tknv
tags:
- gumstix
- linux
- android
modified_time: '2010-10-13T18:25:38.257Z'
blogger_id: tag:blogger.com,1999:blog-11459759.post-3662598405808614914
blogger_orig_url: http://phichyudebow.blogspot.com/2010/10/article-of-russian-tea.html
---

<h1><a href="http://home.fazekas.hu/~nagydani/rth/Russian-tea-HOWTO-v2.html">Russian Tea</a></h1><a href="http://home.fazekas.hu/~nagydani/rth/Russian-tea-HOWTO-v2.html#toc1.2">1.2 What makes it Russian</a><br />If you adhere to the above rules, you make tea. Not necessarily good tea, but real tea, nevertheless. These rules are universal, there's nothing Russian so far. What makes all the difference, is the so-called "zavarka", the tea concentrate. The Russian process of tea-making is a two stage one; First, you make the zavarka, then water it down with hot, boiled water ("kipyatok" in Russian).<br /><a href="http://home.fazekas.hu/~nagydani/rth/Russian-tea-HOWTO-v2.html">...continue...</a><br /><h1>Install tools for Open Embedded</h1>apt-get --yes install git-core subversion patch help2man diffstat texi2html makeinfo libncurses5-dev cvs gawk python-dev python-pysqlite2 unzip python-psyco dosfstools quilt build-essential<br /><h1>Format SDcard for Gumstix and Beagle</h1>フォーマットするスクリプトで楽に。<br />２つのファイルを同じディレクトリにおいて、rootで実行。<br />sh fdisk_for_overoSD.sh <br />でフォーマットするdeviceを聞いてきます。<br /><a href="http://dl.dropbox.com/u/6235654/fdisk_for_overoSD.sh">fdisk_for_overoSD.sh</a><br /><a href="http://dl.dropbox.com/u/6235654/inputs.sh">inputs.sh</a><br /><h1>Format SDcard for Android storage</h1>fdisk /dev/-sdcard-<br />- type "c" - WIN  FAT 32 (LBA)<br />他はお好みで。<br />mkfs.vfat -F 32 /dev/-sdcard-1 -n FAT<br /><h1>Make Debian squeeze image for running debian on Android</h1>echo 'deb http://ftp.jp.debian.org/debian squeeze main contrib non-free' &gt; /etc/apt/sources.list<br />apt-get install debootstrap qemu-user-static binfmt-support<br />cd ~/control-project/Android-dual-head/project/src/qemu-ubuntus<br />wget http://kr.archive.ubuntu.com/ubuntu/pool/universe/q/qemu-kvm/qemu-kvm-extras-static_0.12.3+noroms-0ubuntu9_i386.deb<br />dpkg -c qemu-kvm-extras-static_0.12.3+noroms-0ubuntu9_i386.deb<br />*パッケージの確認<br />dpkg -x qemu-kvm-extras-static_0.12.3+noroms-0ubuntu9_i386.deb .<br />*カレントで展開<br />*build-arm-chrootを確認、シンボリックリンクになっているので、元を/usr/bin/build-arm-chrootにリンクを貼る。<br />dd if=/dev/zero of=debian.img-rc1 bs=1024 count=1950000<br />*おおよそ2GBのデビアン領域を作成<br />mkfs.ext2 -F debian.img-rc1<br />tune2fs -c0 debian.img-rc1<br />mkdir debian<br />mount -o loop debian.img-rc1 debian-rc1/<br />build-arm-chroot --verbose --arch=armel --foreign squeeze debian http://ftp.jp.debian.org/debian<br />mkdir debian/sdcard<br />mount -t proc none debian-rc1/proc/<br />mount -t sysfs sysfs debian-rc1/sys/<br />mount -t devpts devpts debian-rc1/dev/pts<br />chroot debian-rc1/ /bin/bash<br />export HOME=/root<br />export USER=root<br />export LC_ALL=C<br />echo 'deb http://ftp.jp.debian.org/debian squeeze main contrib non-free' &gt; /etc/apt/sources.list<br />aptitude update<br />aptitude --yes install openssh-server<br />*他に必要ならAndroid上でもaptできるので後から。<br />aptitude clean<br />echo localhost &gt; /etc/hostname<br />echo 'nameserver 4.2.2.2' &gt; /etc/resolv.conf<br />exit<br />umount debian-rc1/proc<br />umount debian-rc1/dev/pts<br />umount debian-rc1/sys<br />umount debian-rc1/<br />終わり<br />debian.imgが目的のブツ<br /><br /><h2>boot debian on chroot</h2>export PATH=$bin:/usr/bin:/usr/sbin:/bin:$PATH<br />export TERM=linux<br />export HOME=/root<br />mkdir /sdcard/debian-rc1<br />losetup /dev/block/loop5 /sdcard/debian.img-rc1<br />mount -t ext2 /dev/block/loop5 /sdcard/debian-rc1<br />rm -rf /sdcard/debian-rc1/tmp<br />mkdir /sdcard/debian-rc1/tmp<br />mount -t devpts devpts /sdcard/debian-rc1/dev/pts<br />mount -t proc proc /sdcard/debian-rc1/proc<br />mount -t sysfs sysfs /sdcard/debian-rc1/sys<br />mount -o bind /dev /sdcard/debian-rc1/dev<br />busybox mount /sdcard /sdcard/debian-rc1/root/sdcard<br />sysctl -w net.ipv4.ip_forward=1<br />chroot /sdcard/debian-rc1 /bin/bash<br /><h2>framebuffer vgaなどの設定</h2>/boot/grub/menu.lstの<br />kernel        /boot/vmlinuz-2.9.53-7-686 root=/dev/sda1 ro vga=771<br />この値が、bootで選択するものとなる。<br />vgaの設定がないと、framebufferすら有効にならん。<br />vgaの値について<br />値      解像度    色<br />771     800x600    256色<br />773     1024x7682  256色<br />775     1280x1024  256色<br />788     800x600    6万5000色<br />791     1024x768   6万5000色<br />794     1280x1024  6万5000色<br />789     800x600    1600万色<br />792     1024x768   1600万色<br />795     1280x1024  1600万色<br /><h2>GUIの停止、x-serverによるGUIの停止</h2>aptitude removeする方法<br />/etc/init.d/(g)dm stopする方法(x)dmだったり環境しだい。<div class="blogger-post-footer">/TKNV</div>