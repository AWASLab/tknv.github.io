---
layout: post
title: How to stop SAX parse on libxml-ruby
date: '2009-10-23T19:20:00.000+09:00'
author: tknv
comments: true
category:
- ruby
- libxml
- xml
modified_time: '2009-10-23T19:28:41.265+09:00'
blogger_id: tag:blogger.com,1999:blog-2736766923155041598.post-7089170335255761896
blogger_orig_url: http://yet-another-problem.blogspot.com/2009/10/how-to-stop-sax-parse-on-libxml-ruby.html
---

Stop SAX parse<br /><h2>Does anybody know some stop method?</h2><br /><br /><pre name="code" class="ruby"><br />require 'rubygems'<br />require 'libxml'<br />include LibXML<br /><br />class PostCallbacks<br /> include XML::SaxParser::Callbacks<br /><br /> def on_start_element(element, attributes)<br />   if /usr/ =~ element<br />     p element<br />     raise 'stop!'<br />   end<br /> end<br /><br /><br />end<br /><br />parser = XML::SaxParser.file('test.xml')<br />parser.callbacks = PostCallbacks.new<br />begin<br />parser.parse<br />rescue<br />p 'hard stop'<br />end<br /></pre><br /><br />It will return 1st ＜usr＞ then stop.
